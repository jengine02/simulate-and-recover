# EZ Diffusion Model Simulate-and-Recover

This project implements a simulate-and-recover exercise for the diffusion model, a cognitive model used in decision-making research. The goal is to test whether the EZ diffusion model can estimate parameters from data that were generated by the same model. 

## Table of Contents
- [Introduction](#introduction)
- [Setup](#setup)
- [Results](#results)
- [Credits](#credits)

## Introduction
In this exercise, we simulate decision-making data using the EZ diffusion model, and then apply the same model to recover the parameters. We test if the EZ diffusion model can recover parameters reliably, with consistency between true and estimated values. This is done for different sample sizes (N = 10, 40, 4000) over 1000 iterations.

The model parameters are:
- **Boundary separation (a)** between 0.5 and 2
- **Drift rate (v)** between 0.5 and 2
- **Nondecision time (t)** between 0.1 and 0.5

The simulate-and-recover process is repeated for three different sample sizes (N) to analyze the impact of sample size on parameter recovery.

## Setup
To run this project, you need Python 3 and the following dependencies:
- `os`
- `sys`
- `src`
- `matplotlib`
- `numpy`
- `pandas`

## Results
The simulation and recovery process was implemented using the EZ diffusion model we learned in class. The model was tested with three different sample sizes (N = 10, 40, 4000) 1000 iterations for each sampel. The results were analyzed by calculating the average bias and average squared error for the estimated parameters (v, a, t) in order to identify if b was close to zero, and if the b^2 got smaller as N got bigger. The combined plot, ez_diffusion_combined_plot.png, visualizes these results.
The code implementation involved several steps. The EZ diffusion model was initialized, and the simulation was run for different sample sizes. The bias and squared error for each parameter were calculated over multiple iterations. The results were then averaged and saved as CSV files. The combined plot was generated to visualize the average bias and squared error for each parameter across different sample sizes.
Throughout the process, I encountered a number of challenges. I struggled in understanding the equations given to us and the logical process in which we were to follow. As this project was very open ended, it left me with many questions I had to explore. Also, formatting the data and the results proved difficult and finding how I should display my results was a bit challenging. In addition, finding how to debug with many files in play was challenging, however the stragetize the professor gave us were helpful. The use of documentation from the class and different libraries was very helpful in overcoming these challenges. Additionally, the organization of the testing files and the step-by-step approach using Jupyter notebooks helped in identifying and resolving errors efficiently.
I was able to get my code to go through each equation and output the bias and squared errors. Through the process, I found out how I can plot the averages of b and b^2. Fromt he data, it seems that bias value tends to be negative, and squared error tends to be positive, except in the case for t.
From the combined plot, I noticed that the average bias values for the parameters are generally close to zero, which shows that the EZ diffusion model does a decent job estimating the true parameters. That said, there’s definitely some variability, especially when the sample size is small (like when N = 10). But as the sample size gets larger, the bias values tend to stabilize and get even closer to zero. This suggests that having more data helps the model make more accurate estimates.
When looking at the average squared error, it’s always positive (as expected) and tends to go down as the sample size increases. This means that bigger sample sizes improve how precise the parameter estimates are. Interestingly, the squared error for the parameter t seems to fluctuate more compared to v and a, which could mean that t is just harder to estimate well. Overall, these results show that the EZ diffusion model works better when there’s a larger sample size, giving us more reliable and accurate estimates.

## Credits
- Learnings from Joachim Vandekerckhove
- Use of ChatGPT to debug and run tests for code
- Use of Github Copilot during debugging process
